`學期`=list(
`108-1`=list(
list(
name="個體經濟學",
teacher="Alice",
grade=85
)
),
`108-2`=list(
list(
name="總體經濟學",
teacher="Mark",
grade=78
)
)
)
)
listExample[["學期"]][["108-1"]][[2]]=list(name="產業經濟學",
teacher="Wen",
grade=88)
str(listExample)
# 有多少位置可選：
length(listExample)
a <- c("1","b","TRUE")
a
a[[2]] <- "c" # 元素存在: 替換
a[[4]] <- "7" # 元素不存在： 增加
a[c(5,6)] <- c("J", "K")
a[[7]]="johnson"
a=c(a,"mary")
a
print(a)
a[-c(1,3)]
a[c(-2)]
print(a)
a[-c(1,3)] -> a # 要回存才算真的刪除
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1=list1[[1]][-C(3)]
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1=list1[[1]][C(-3)]
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1=list1[[1]][C(3)]
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1=list1[[1]][[1]]
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1=list1[[1]][[3]]
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1=list1[[1]][-3]
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1=list1[[1]][-3]
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1[[1]]=list1[[1]][-3]
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1[[1]]=list1[[1]][-3]
list1[[2]]=list1[[2]][-c(3,5)]
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1[[1]]=list1[[1]][-c(3)]
list1[[2]]=list1[[2]][-c(3,5)]
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
list1[[1]][-c(3)]
str(list1)
str(list1)
list1[[2]][c(1,2)] <- NULL
str(list1)
library(lubridate)
list1 <-
list(
list(
name="Jack",
birthday=ymd("1998-03-21"),
status=c(height=177, weight=80)
),
list(
name="Mary",
birthday=ymd("1998-08-24"),
status=c(height=163, weight=45),
age=21,
bloodType="AB"
)
)
str(list1)
list1[[1]]=list1[[1]][-c(3)]
list1[[2]]=list1[[2]][-c(3,5)]
str(list1)
list1[[2]][c(1,2)] <- NULL
str(list1)
library(jsonlite)
fromJSON("https://data.ntpc.gov.tw/od/data/api/54DDDC93-589C-4858-9C95-18B2046CC1FC?$format=json", simplifyDataFrame = F) -> newTaipeiYouBike
View(newTaipeiYouBike)
library(jsonlite)
fromJSON("https://data.ntpc.gov.tw/od/data/api/54DDDC93-589C-4858-9C95-18B2046CC1FC?$format=json", simplifyDataFrame = F) -> newTaipeiYouBike
newTaipeiYouBike[[1]][[1]]=NULL
str(newTaipeiYouBike[[1]])
knitr::opts_chunk$set(echo = TRUE)
c=a+b
a <- c(2, 3, 5)
b <- c(4,-1, 3)
c=a+b
d=a-b
e=a*b
f=a/b
g=a %% b
h=a ** b
sequenceNums <- c(11, 6, 8, 11, 12, 11, 3, 7, 10, 8)
print(sequenceNums)
answer=sequenceNums %% 2 # 餘數為1則是奇數，0則是偶數
sequenceNums <- c(11, 6, 8, 11, 12, 11, 3, 7, 10, 8)
print(sequenceNums)
answer=sequenceNums %% 2 # 餘數為1則是奇數，0則是偶數
print(answer)
example <- list(
name=c("小明","小花","小新","美美"),
height=c(175,166,170,160),
weight=c(77,NA,60,43),
birthday=lubridate::ymd(c("1998-03-11","1999-12-22","1995-08-22","2001-10-10")),
hobby=c("美食 旅遊","旅遊 時尚","3C 美食","音樂 旅遊"),
residence=c("Taipei","New Taipei","Taichung","Kaohsiung"),
allowance=factor(c("0-1000","1001-2000","2000+","1001-2000")),
bloodType=c("A","B","B","O")
)
str(example[c("name","height")])
pick_above170 <- example$height >= 170
example$name[pick_above170]
str(example[c("name","height")])
pick_above170 <- example$height >= 170
example$name[["pick_above170"]]
str(example[c("name","height")])
pick_above170 <- example$height >= 170
example$name[pick_above170]
source("https://www.dropbox.com/s/qsrw069n94k61lj/transcript100to103_list.R?dl=1")
table(transcript100to103$學屆)
pick_above85=transcript100to103$成績>=85
table(transcript100to103$學屆[pick_above85])
example <- list(
name=c("小明","小花","小新","美美"),
height=c(175,166,170,160),
weight=c(77,NA,60,43),
birthday=lubridate::ymd(c("1998-03-11","1999-12-22","1995-08-22","2001-10-10")),
hobby=c("美食 旅遊","旅遊 時尚","3C 美食","音樂 旅遊"),
residence=c("Taipei","New Taipei","Taichung","Kaohsiung"),
allowance=factor(c("0-1000","1001-2000","2000+","1001-2000")),
bloodType=c("A","B","B","O")
)
example <- list(
name=c("小明","小花","小新","美美"),
height=c(175,166,170,160),
weight=c(77,NA,60,43),
birthday=lubridate::ymd(c("1998-03-11","1999-12-22","1995-08-22","2001-10-10")),
hobby=c("美食 旅遊","旅遊 時尚","3C 美食","音樂 旅遊"),
residence=c("Taipei","New Taipei","Taichung","Kaohsiung"),
allowance=factor(c("0-1000","1001-2000","2000+","1001-2000")),
bloodType=c("A","B","B","O")
)
print(example[c("name","birthday")])
pick_after98 <- example$birthday >= lubridate::ymd("1998-01-01")
example$name[pick_after98]
source("https://www.dropbox.com/s/16h6ggua6qtydci/exchangeRate.R?dl=1")
pick_after98_01=exchangeRate$期間>=lubridate::ymd("1998-01-01")
exchangeRate_after98 <-
list(
`期間`=exchangeRate$`期間`[pick_after98_01],
`幣別`=exchangeRate$`幣別`[pick_after98_01],
`匯率`=exchangeRate$`匯率`[pick_after98_01]
)
print(example[c("name","allowance")])
example <- list(
name=c("小明","小花","小新","美美"),
height=c(175,166,170,160),
weight=c(77,NA,60,43),
birthday=lubridate::ymd(c("1998-03-11","1999-12-22","1995-08-22","2001-10-10")),
hobby=c("美食 旅遊","旅遊 時尚","3C 美食","音樂 旅遊"),
residence=c("Taipei","New Taipei","Taichung","Kaohsiung"),
allowance=factor(c("0-1000","1001-2000","2000+","1001-2000")),
bloodType=c("A","B","B","O")
)
print(example[c("name","allowance")])
pick_allowanceOver1000 <- example$allowance >= "1001-2000"
example$name[pick_allowanceOver1000]
example$allowance <-
ordered(example$allowance)
print(example[c("name","allowance")])
pick_allowanceOver1000 <- example$allowance >= "1001-2000"
example$name[pick_allowanceOver1000]
example$allowance <-
factor(
example$allowance,
levels=c("0-1000", "1001-2000", "2000+"),
ordered = T # 設定為可排序factor
)
jsonlite::fromJSON("https://www.dropbox.com/s/3uijub7xheib405/list_victimAges_female.json?dl=1", simplifyDataFrame = F) -> list_victimAges_female
list_victimAges_female=as.factor(list_victimAges_female$年)
jsonlite::fromJSON("https://www.dropbox.com/s/3uijub7xheib405/list_victimAges_female.json?dl=1", simplifyDataFrame = F) -> list_victimAges_female
list_victimAges_female$年=as.factor(list_victimAges_female$年)
list_victimAges_female$年=as.factor(list_victimAges_female$年)
list_victimAges_female$年齡層=as.factor(list_victimAges_female$年齡層)
list_victimAges_female$性別=as.factor(list_victimAges_female$性別)
list_victimAges_female$年=as.factor(list_victimAges_female$年)
list_victimAges_female$年齡層=as.factor(list_victimAges_female$年齡層)
list_victimAges_female$性別=as.factor(list_victimAges_female$性別)
print(list_victimAges_female$年)
list_victimAges_female$年=as.factor(list_victimAges_female$年,ordered=T)
list_victimAges_female$年=as.factor(list_victimAges_female$年)
list_victimAges_female$年=ordered(list_victimAges_female$年)
list_victimAges_female$年齡層=as.factor(list_victimAges_female$年齡層)
list_victimAges_female$性別=as.factor(list_victimAges_female$性別)
print(list_victimAges_female$年齡層)
list_victimAges_female$年=as.factor(list_victimAges_female$年)
list_victimAges_female$年=ordered(list_victimAges_female$年)
list_victimAges_female$年齡層=as.factor(list_victimAges_female$年齡層)
list_victimAges_female$性別=as.factor(list_victimAges_female$性別)
list_victimAges_female$數目 <-
as.integer(list_victimAges_female$數目)
print(list_victimAges_female$年齡層)
levels_new <- c(levels_ages[c(12,13,1,8,2:7,9:11)])
levels(list_victimAges_female$年齡層) -> levels_ages
print(levels_ages)
levels_new <- c(levels_ages[c(12,13,1,8,2:7,9:11)])
levels(list_victimAges_female$年齡層) <- levels_new
levels(list_victimAges_female$年齡層) -> levels_ages
levels_new <- c(levels_ages[c(12,13,1,8,2:7,9:11)])
levels(list_victimAges_female$年齡層) <- levels_new
print(levels_new)
levels(list_victimAges_female$年齡層) -> levels_ages
levels_new <- c(levels_ages[c(12,13,1:11)])
levels(list_victimAges_female$年齡層) <- levels_new
print(levels_new)
levels(list_victimAges_female$年齡層) -> levels_ages
levels_new <- c(levels_ages[c(12,13,1:11)])
levels(list_victimAges_female$年齡層) <- levels_new
print(levels_ages)
print(levels_new)
jsonlite::fromJSON("https://www.dropbox.com/s/3uijub7xheib405/list_victimAges_female.json?dl=1", simplifyDataFrame = F) -> list_victimAges_female
list_victimAges_female$年=as.factor(list_victimAges_female$年)
list_victimAges_female$年=ordered(list_victimAges_female$年)
list_victimAges_female$年齡層=as.factor(list_victimAges_female$年齡層)
list_victimAges_female$性別=as.factor(list_victimAges_female$性別)
list_victimAges_female$數目 <-
as.integer(list_victimAges_female$數目)
print(list_victimAges_female$年齡層)
levels(list_victimAges_female$年齡層) -> levels_ages
levels_new <- c(levels_ages[c(12,13,1:11)])
levels(list_victimAges_female$年齡層) <- levels_new
print(levels_ages)
print(levels_new)
levels(list_victimAges_female$年齡層) -> levels_ages
levels_new <- levels_ages[c(12,13,1:11)]
levels(list_victimAges_female$年齡層) <- levels_new
print(levels_ages)
print(levels_new)
example <- list(
name=c("小明","小花","小新","美美"),
height=c(175,166,170,160),
weight=c(77,NA,60,43),
birthday=lubridate::ymd(c("1998-03-11","1999-12-22","1995-08-22","2001-10-10")),
hobby=c("美食 旅遊","旅遊 時尚","3C 美食","音樂 旅遊"),
residence=c("Taipei","New Taipei","Taichung","Kaohsiung"),
allowance=factor(c("0-1000","1001-2000","2000+","1001-2000")),
bloodType=c("A","B","B","O")
)
print(example[c("name","bloodType")])
pick_bloodB <- example$bloodType == "B"
example$name[pick_bloodB]
sequenceNums <- c(11, 6, 8, 11, 12, 11, 3, 7, 10, 8)
pick_evens=sequenceNums%%2==0
sequenceNums[pick_evens]
source("https://www.dropbox.com/s/qsrw069n94k61lj/transcript100to103_list.R?dl=1")
source("https://www.dropbox.com/s/qsrw069n94k61lj/transcript100to103_list.R?dl=1")
View(transcript100to103)
lawBusiness=c("商學院","法學院")
pick_lawBusiness=transcript100to103$`學院`%in% lawBusiness
print(transcript100to103$學院)
lawBusiness=c("商學院","法學院")
pick_lawBusiness=transcript100to103$`學院`%in% lawBusiness
print(transcript100to103$學院[pick_lawBusiness])
jsonlite::fromJSON("https://www.dropbox.com/s/3uijub7xheib405/list_victimAges_female.json?dl=1", simplifyDataFrame = F) -> list_victimAges_female
list_victimAges_female$數目 <- as.integer(list_victimAges_female$數目)
pick_na=list_victimAges_female$數目==NA
print(list_victimAges_female$數目[pick_na])
pick_na <- is.na(list_victimAges_female$數目)
total_na <- sum(pick_na)
print(total_na)
pick_na <- is.na(list_victimAges_female$數目)
total_na <- sum(pick_na)
print(pick_na)
print(total_na)
library(stringr)
jsonlite::fromJSON("https://data.ntpc.gov.tw/od/data/api/EDC3AD26-8AE7-4916-A00B-BC6048D19BF8?$format=json") ->
garbageRoutes
jsonlite::fromJSON("https://data.ntpc.gov.tw/od/data/api/EDC3AD26-8AE7-4916-A00B-BC6048D19BF8?$format=json") ->
garbageRoutes
View(garbageRoutes)
garbageRoutes$linename=as.factor(garbageRoutes$linename)
levels(garbageRoutes$linename)
fruit <- c("apple", "banana", "pear", "pinapple")
str_detect(fruit, "a")
str_detect(fruit, "^a")
str_detect(fruit, "a$")
str_detect(fruit, "b")
str_detect(fruit, "[aeiou]")
# Also vectorised over pattern
str_detect("aecfg", letters)
# Returns TRUE if the pattern do NOT match
str_detect(fruit, "^p", negate = TRUE)
CDC_chatbox <- readr::read_csv("http://od.cdc.gov.tw/pr/CDC_chatbox.csv")
a=str_detect(CDC_chatbox$Question,"肺炎")
print(CDC_chatbox$Question[a])
